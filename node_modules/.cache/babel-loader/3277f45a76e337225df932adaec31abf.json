{"ast":null,"code":"import _classCallCheck from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import ImageUploader from'react-images-upload';import styles from'./styles/image-page.module.css';import{Grid,Row,Col}from'react-flexbox-grid';import ImageUp from'./../components/image-upload.js';var ImageUpload=/*#__PURE__*/function(_React$Component){_inherits(ImageUpload,_React$Component);var _super=_createSuper(ImageUpload);function ImageUpload(){var _this;_classCallCheck(this,ImageUpload);_this=_super.call(this);_this.state={userId:null,getImages:false,images:[]};return _this;}_createClass(ImageUpload,[{key:\"componentDidMount\",value:function componentDidMount(){if(!this.state.userId){this.getUserId();}}},{key:\"getUserId\",value:function getUserId(){var _this2=this;axios.get(\"http://localhost:8080/api/user_data\").then(function(response){_this2.setState({userId:response.data.id});});}},{key:\"getImages\",value:function getImages(){var _this3=this;imgFiles=[];axios.get(\"http://localhost:8080/api/images/\"+this.state.userId).then(function(response){response.data.map(function(img){return imgFiles.push(require('./../uploads/'+img.filename));});console.log(\"imggg\",imgFiles);_this3.setState({getImages:true});_this3.setState({images:response.data});});}},{key:\"render\",value:function render(){if(this.state.userId&&!this.state.getImages){this.getImages();}var imgGallery;if(this.state.images!=={}){// console.log(\"iMg\",this.state.images)\nimgGallery=this.state.images.map(function(img,index){return/*#__PURE__*/React.createElement(Col,{xs:4,className:styles.gallery});});}return/*#__PURE__*/React.createElement(Row,{className:styles.wrapper},/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(Row,{className:styles.title},/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"h1\",null,\"Photos\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:6,className:styles.uploader},/*#__PURE__*/React.createElement(ImageUp,{userId:this.state.userId}))),/*#__PURE__*/React.createElement(Row,null,imgGallery)));}}]);return ImageUpload;}(React.Component);export default ImageUpload;","map":{"version":3,"sources":["/Users/ozmatron/therapy-client/src/pages/image-page.js"],"names":["React","axios","ImageUploader","styles","Grid","Row","Col","ImageUp","ImageUpload","state","userId","getImages","images","getUserId","get","then","response","setState","data","id","imgFiles","map","img","push","require","filename","console","log","imgGallery","index","gallery","wrapper","title","uploader","Component"],"mappings":"okBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,GAApB,KAA+B,oBAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,iCAApB,C,GAEMC,CAAAA,W,sHAEF,sBAAc,6CACV,wBACA,MAAKC,KAAL,CAAa,CACXC,MAAM,CAAE,IADG,CAEXC,SAAS,CAAE,KAFA,CAGXC,MAAM,CAAE,EAHG,CAAb,CAFU,aAOX,C,qFAEmB,CAClB,GAAI,CAAC,KAAKH,KAAL,CAAWC,MAAhB,CAAwB,CACtB,KAAKG,SAAL,GACD,CACF,C,6CAEW,iBACVZ,KAAK,CAACa,GAAN,wCACCC,IADD,CACM,SAACC,QAAD,CAAc,CAClB,MAAI,CAACC,QAAL,CAAc,CAACP,MAAM,CAAEM,QAAQ,CAACE,IAAT,CAAcC,EAAvB,CAAd,EACD,CAHD,EAID,C,6CAEW,iBACVC,QAAQ,CAAG,EAAX,CACAnB,KAAK,CAACa,GAAN,CAAU,oCAAsC,KAAKL,KAAL,CAAWC,MAA3D,EACCK,IADD,CACM,SAACC,QAAD,CAAc,CAClBA,QAAQ,CAACE,IAAT,CAAcG,GAAd,CAAkB,SAACC,GAAD,QAClBF,CAAAA,QAAQ,CAACG,IAAT,CAAcC,OAAO,CAAC,gBAAkBF,GAAG,CAACG,QAAvB,CAArB,CADkB,EAAlB,EAGAC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAoBP,QAApB,EACE,MAAI,CAACH,QAAL,CAAc,CAACN,SAAS,CAAE,IAAZ,CAAd,EACA,MAAI,CAACM,QAAL,CAAc,CAACL,MAAM,CAAEI,QAAQ,CAACE,IAAlB,CAAd,EACD,CARH,EASD,C,uCAEQ,CACP,GAAI,KAAKT,KAAL,CAAWC,MAAX,EAAqB,CAAC,KAAKD,KAAL,CAAWE,SAArC,CAAgD,CAC5C,KAAKA,SAAL,GACH,CACD,GAAIiB,CAAAA,UAAJ,CACA,GAAI,KAAKnB,KAAL,CAAWG,MAAX,GAAsB,EAA1B,CAA8B,CAClB;AACVgB,UAAU,CAAG,KAAKnB,KAAL,CAAWG,MAAX,CAAkBS,GAAlB,CAAsB,SAACC,GAAD,CAAMO,KAAN,qBAC/B,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAE1B,MAAM,CAAC2B,OAA9B,EAD+B,EAAtB,CAAb,CAKD,CAED,mBACI,oBAAC,GAAD,EAAK,SAAS,CAAE3B,MAAM,CAAC4B,OAAvB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACJ,oBAAC,GAAD,EAAK,SAAS,CAAE5B,MAAM,CAAC6B,KAAvB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,uCADJ,CADJ,CADI,cAMJ,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAE7B,MAAM,CAAC8B,QAA9B,eACI,oBAAC,OAAD,EAAS,MAAM,CAAE,KAAKxB,KAAL,CAAWC,MAA5B,EADJ,CADJ,CANI,cAWJ,oBAAC,GAAD,MACKkB,UADL,CAXI,CADJ,CADJ,CAmBD,C,yBAtEmB5B,KAAK,CAACkC,S,EAyEhC,cAAe1B,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ImageUploader from 'react-images-upload';\nimport styles from './styles/image-page.module.css'; \nimport { Grid, Row, Col } from 'react-flexbox-grid';\nimport ImageUp from './../components/image-upload.js';\n\nclass ImageUpload extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n          userId: null,\n          getImages: false,\n          images: []\n        };\n      }\n\n      componentDidMount() {\n        if (!this.state.userId) {\n          this.getUserId();\n        }\n      }\n\n      getUserId() {\n        axios.get(`http://localhost:8080/api/user_data`)\n        .then((response) => {\n          this.setState({userId: response.data.id})\n        })\n      }\n\n      getImages() {\n        imgFiles = []\n        axios.get(`http://localhost:8080/api/images/` + this.state.userId)\n        .then((response) => {\n          response.data.map((img) =>\n          imgFiles.push(require('./../uploads/' + img.filename))\n          )\n          console.log(\"imggg\",imgFiles)\n            this.setState({getImages: true})\n            this.setState({images: response.data})\n          })\n      }\n\n      render() {\n        if (this.state.userId && !this.state.getImages) {\n            this.getImages()\n        }\n        let imgGallery\n        if (this.state.images !== {}) {\n                    // console.log(\"iMg\",this.state.images)\n          imgGallery = this.state.images.map((img, index) => \n              <Col xs={4} className={styles.gallery}>\n              {/* <img src={require('./../uploads/' + img.filename)} className={styles.photo} alt=\"image\" /> */}\n              </Col>\n            );\n        }\n\n        return (\n            <Row className={styles.wrapper}>\n                <Col xs={12} >\n            <Row className={styles.title}>\n                <Col xs={12} >\n                    <h1>Photos</h1>\n                </Col>\n            </Row>\n            <Row>\n                <Col xs={6} className={styles.uploader}>\n                    <ImageUp userId={this.state.userId}/>\n                </Col>\n            </Row>\n            <Row >\n                {imgGallery}\n            </Row>\n            </Col>\n            </Row>\n        );\n      }\n    }\n\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}