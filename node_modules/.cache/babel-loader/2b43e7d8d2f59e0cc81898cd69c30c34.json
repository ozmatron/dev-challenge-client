{"ast":null,"code":"import _defineProperty from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import styles from'./styles/image-upload.module.css';import{Grid,Row,Col}from'react-flexbox-grid';var ImageUp=/*#__PURE__*/function(_React$Component){_inherits(ImageUp,_React$Component);var _super=_createSuper(ImageUp);function ImageUp(){var _this;_classCallCheck(this,ImageUp);_this=_super.call(this);_this.onChange=function(e){switch(e.target.name){case'selectedFile':_this.setState({selectedFile:e.target.files[0]});break;default:_this.setState(_defineProperty({},e.target.name,e.target.value));}};_this.onSubmit=function(e){e.preventDefault();var selectedFile=_this.state.selectedFile;var userIdStr=_this.props.userId.toString();var formData=new FormData();formData.append('userId',userIdStr);formData.append('selectedFile',selectedFile);axios.post('http://localhost:8080/api/upload',formData).then(function(result){});};_this.state={userId:'',selectedFile:''};return _this;}_createClass(ImageUp,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.userId){var str=this.props.userId.toString();this.setState({userId:this.props.userId});console.log(\"Done\");}}},{key:\"render\",value:function render(){var _this$state=this.state,userId=_this$state.userId,selectedFile=_this$state.selectedFile;return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"selectedFile\",id:\"file-upload\",onChange:this.onChange})),/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"label\",{for:\"file-upload\",className:styles.getFile},\"Select photo\"),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Add photo\"}))))));}}]);return ImageUp;}(React.Component);export default ImageUp;","map":{"version":3,"sources":["/Users/ozmatron/therapy-client/src/components/image-upload.js"],"names":["React","axios","styles","Grid","Row","Col","ImageUp","onChange","e","target","name","setState","selectedFile","files","value","onSubmit","preventDefault","state","userIdStr","props","userId","toString","formData","FormData","append","post","then","result","str","console","log","getFile","Component"],"mappings":"2tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kCAAnB,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,GAApB,KAA+B,oBAA/B,C,GAEMC,CAAAA,O,8GACF,kBAAc,yCACV,wBADU,MAgBZC,QAhBY,CAgBD,SAACC,CAAD,CAAO,CAChB,OAAQA,CAAC,CAACC,MAAF,CAASC,IAAjB,EACE,IAAK,cAAL,CACE,MAAKC,QAAL,CAAc,CAAEC,YAAY,CAAEJ,CAAC,CAACC,MAAF,CAASI,KAAT,CAAe,CAAf,CAAhB,CAAd,EACA,MACF,QACE,MAAKF,QAAL,oBAAiBH,CAAC,CAACC,MAAF,CAASC,IAA1B,CAAiCF,CAAC,CAACC,MAAF,CAASK,KAA1C,GALJ,CAOD,CAxBW,OA0BZC,QA1BY,CA0BD,SAACP,CAAD,CAAO,CAChBA,CAAC,CAACQ,cAAF,GACA,GAAMJ,CAAAA,YAAY,CAAG,MAAKK,KAAL,CAAWL,YAAhC,CACA,GAAIM,CAAAA,SAAS,CAAG,MAAKC,KAAL,CAAWC,MAAX,CAAkBC,QAAlB,EAAhB,CACA,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CAEAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAA0BN,SAA1B,EACAI,QAAQ,CAACE,MAAT,CAAgB,cAAhB,CAAgCZ,YAAhC,EAEAX,KAAK,CAACwB,IAAN,CAAW,kCAAX,CAA+CH,QAA/C,EACGI,IADH,CACQ,SAACC,MAAD,CAAY,CACjB,CAFH,EAGD,CAtCW,CAEV,MAAKV,KAAL,CAAa,CACXG,MAAM,CAAE,EADG,CAEXR,YAAY,CAAE,EAFH,CAAb,CAFU,aAMX,C,iFAEmB,CAClB,GAAI,KAAKO,KAAL,CAAWC,MAAf,CAAuB,CACnB,GAAIQ,CAAAA,GAAG,CAAG,KAAKT,KAAL,CAAWC,MAAX,CAAkBC,QAAlB,EAAV,CACA,KAAKV,QAAL,CAAc,CAAES,MAAM,CAAE,KAAKD,KAAL,CAAWC,MAArB,CAAd,EACAS,OAAO,CAACC,GAAR,CAAY,MAAZ,EACH,CACF,C,uCA0BQ,iBAC0B,KAAKb,KAD/B,CACCG,MADD,aACCA,MADD,CACSR,YADT,aACSA,YADT,CAGP,mBACA,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,oBAAC,GAAD,mBACA,4BAAM,QAAQ,CAAE,KAAKG,QAArB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,6BACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,cAFT,CAGI,EAAE,CAAC,aAHP,CAII,QAAQ,CAAE,KAAKR,QAJnB,EADA,CADJ,cASI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,6BAAO,GAAG,CAAC,aAAX,CAAyB,SAAS,CAAEL,MAAM,CAAC6B,OAA3C,iBADA,cAIA,6BACA,IAAI,CAAC,QADL,CAEA,KAAK,CAAC,WAFN,EAJA,CATJ,CADA,CADJ,CADJ,CADA,CA2BD,C,qBAvEe/B,KAAK,CAACgC,S,EAyE5B,cAAe1B,CAAAA,OAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport styles from './styles/image-upload.module.css'; \nimport { Grid, Row, Col } from 'react-flexbox-grid';\n\nclass ImageUp extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n          userId: '',\n          selectedFile: '',\n        };\n      }\n\n      componentDidMount() {\n        if (this.props.userId) {\n            let str = this.props.userId.toString()\n            this.setState({ userId: this.props.userId });\n            console.log(\"Done\")\n        }\n      }\n\n      onChange = (e) => {\n        switch (e.target.name) {\n          case 'selectedFile':\n            this.setState({ selectedFile: e.target.files[0] });\n            break;\n          default:\n            this.setState({ [e.target.name]: e.target.value });\n        }\n      }\n\n      onSubmit = (e) => {\n        e.preventDefault();\n        const selectedFile = this.state.selectedFile;\n        let userIdStr = this.props.userId.toString()\n        let formData = new FormData();\n\n        formData.append('userId', userIdStr);\n        formData.append('selectedFile', selectedFile);\n\n        axios.post('http://localhost:8080/api/upload', formData)\n          .then((result) => {\n          });\n      }\n\n      render() {\n        const { userId, selectedFile } = this.state;\n\n        return (\n        <Row>\n            <Col xs={12}>\n                <Row>\n                <form onSubmit={this.onSubmit}>\n                    <Col xs={12}>\n                    <input\n                        type=\"file\"\n                        name=\"selectedFile\"\n                        id=\"file-upload\"\n                        onChange={this.onChange}\n                    />\n                    </Col>\n                    <Col xs={12}>\n                    <label for=\"file-upload\" className={styles.getFile}>\n                        Select photo\n                    </label>\n                    <input\n                    type='submit'\n                    value=\"Add photo\"\n                    />\n                    </Col>\n                </form>\n                </Row>\n            </Col>\n          </Row>\n        );\n      }\n    }\nexport default ImageUp;"]},"metadata":{},"sourceType":"module"}