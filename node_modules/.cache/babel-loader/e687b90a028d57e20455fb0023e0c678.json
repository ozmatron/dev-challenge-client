{"ast":null,"code":"import _classCallCheck from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ozmatron/therapy-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{Grid,Row,Col}from'react-flexbox-grid';import styles from'./styles/news-page.module.css';var News=/*#__PURE__*/function(_React$Component){_inherits(News,_React$Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.state={headline:\"No news today\",desc:null,img:null};return _this;}_createClass(News,[{key:\"componentDidMount\",value:function componentDidMount(){this.getNews();}},{key:\"getNews\",value:function getNews(){var _this2=this;axios.get(\"https://feeds.bbci.co.uk/news/rss.xml\").then(function(response){var parser=new DOMParser();var xmlDoc=parser.parseFromString(response.data,\"text/xml\");var topStory=xmlDoc.getElementsByTagName(\"item\")[0];if(xmlDoc.getElementsByTagName(\"url\")[0].childNodes[0].nodeValue){_this2.setState({img:xmlDoc.getElementsByTagName(\"url\")[0].childNodes[0].nodeValue});}if(topStory.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue){_this2.setState({headline:topStory.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue});}if(topStory.getElementsByTagName(\"description\")[0].childNodes[0].nodeValue){_this2.setState({desc:topStory.getElementsByTagName(\"description\")[0].childNodes[0].nodeValue});}});}},{key:\"render\",value:function render(){var img=/*#__PURE__*/React.createElement(\"img\",{src:this.state.img,alt:\"Logo\"});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:styles.wrapper},/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"h3\",null,this.state.headline))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},img)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12},/*#__PURE__*/React.createElement(\"p\",null,this.state.desc))))));}}]);return News;}(React.Component);export default News;","map":{"version":3,"sources":["/Users/ozmatron/therapy-client/src/pages/news-page.js"],"names":["React","axios","Grid","Row","Col","styles","News","props","state","headline","desc","img","getNews","get","then","response","parser","DOMParser","xmlDoc","parseFromString","data","topStory","getElementsByTagName","childNodes","nodeValue","setState","wrapper","Component"],"mappings":"okBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,GAApB,KAA+B,oBAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,C,GAEMC,CAAAA,I,wGACJ,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,eADD,CAETC,IAAI,CAAE,IAFG,CAGTC,GAAG,CAAE,IAHI,CAAb,CAFiB,aAOlB,C,8EAEmB,CAClB,KAAKC,OAAL,GACD,C,yCAES,iBACRX,KAAK,CAACY,GAAN,0CACCC,IADD,CACM,SAACC,QAAD,CAAc,CAChB,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,SAAJ,EAAb,CACA,GAAIC,CAAAA,MAAM,CAAGF,MAAM,CAACG,eAAP,CAAuBJ,QAAQ,CAACK,IAAhC,CAAsC,UAAtC,CAAb,CACA,GAAIC,CAAAA,QAAQ,CAAGH,MAAM,CAACI,oBAAP,CAA4B,MAA5B,EAAoC,CAApC,CAAf,CACA,GAAIJ,MAAM,CAACI,oBAAP,CAA4B,KAA5B,EAAmC,CAAnC,EAAsCC,UAAtC,CAAiD,CAAjD,EAAoDC,SAAxD,CAAmE,CACjE,MAAI,CAACC,QAAL,CAAc,CAACd,GAAG,CAAEO,MAAM,CAACI,oBAAP,CAA4B,KAA5B,EAAmC,CAAnC,EAAsCC,UAAtC,CAAiD,CAAjD,EAAoDC,SAA1D,CAAd,EACD,CACD,GAAIH,QAAQ,CAACC,oBAAT,CAA8B,OAA9B,EAAuC,CAAvC,EAA0CC,UAA1C,CAAqD,CAArD,EAAwDC,SAA5D,CAAuE,CACnE,MAAI,CAACC,QAAL,CAAc,CAAChB,QAAQ,CAAEY,QAAQ,CAACC,oBAAT,CAA8B,OAA9B,EAAuC,CAAvC,EAA0CC,UAA1C,CAAqD,CAArD,EAAwDC,SAAnE,CAAd,EACH,CACD,GAAIH,QAAQ,CAACC,oBAAT,CAA8B,aAA9B,EAA6C,CAA7C,EAAgDC,UAAhD,CAA2D,CAA3D,EAA8DC,SAAlE,CAA6E,CACzE,MAAI,CAACC,QAAL,CAAc,CAACf,IAAI,CAAEW,QAAQ,CAACC,oBAAT,CAA8B,aAA9B,EAA6C,CAA7C,EAAgDC,UAAhD,CAA2D,CAA3D,EAA8DC,SAArE,CAAd,EACH,CACJ,CAdD,EAeD,C,uCAEQ,CACP,GAAIb,CAAAA,GAAG,cAAG,2BAAK,GAAG,CAAE,KAAKH,KAAL,CAAWG,GAArB,CAA0B,GAAG,CAAC,MAA9B,EAAV,CACA,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACY,oBAAC,GAAD,EAAK,SAAS,CAAEN,MAAM,CAACqB,OAAvB,eACR,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,8BAAK,KAAKlB,KAAL,CAAWC,QAAhB,CADA,CADF,CADA,cAMF,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,EACCE,GADD,CADJ,CANE,cAWF,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACA,6BAAI,KAAKH,KAAL,CAAWE,IAAf,CADA,CADJ,CAXE,CADQ,CADZ,CADF,CAuBD,C,kBAzDgBV,KAAK,CAAC2B,S,EA4DzB,cAAerB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Grid, Row, Col } from 'react-flexbox-grid';\nimport styles from './styles/news-page.module.css'; \n\nclass News extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n        headline: \"No news today\",\n        desc: null, \n        img: null   \n    };\n  }\n\n  componentDidMount() {\n    this.getNews();\n  }\n\n  getNews() {\n    axios.get(`https://feeds.bbci.co.uk/news/rss.xml`)\n    .then((response) => {\n        var parser = new DOMParser();\n        var xmlDoc = parser.parseFromString(response.data, \"text/xml\")\n        var topStory = xmlDoc.getElementsByTagName(\"item\")[0]\n        if (xmlDoc.getElementsByTagName(\"url\")[0].childNodes[0].nodeValue) {\n          this.setState({img: xmlDoc.getElementsByTagName(\"url\")[0].childNodes[0].nodeValue}) \n        }\n        if (topStory.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue) {\n            this.setState({headline: topStory.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue}) \n        }\n        if (topStory.getElementsByTagName(\"description\")[0].childNodes[0].nodeValue) {\n            this.setState({desc: topStory.getElementsByTagName(\"description\")[0].childNodes[0].nodeValue}) \n        }\n    })\n  }\n\n  render() {\n    let img = <img src={this.state.img} alt=\"Logo\" />;\n    return (\n      <React.Fragment>\n                  <Row className={styles.wrapper}>\n          <Col xs={12} >\n          <Row>\n            <Col xs={12} >\n            <h3>{this.state.headline}</h3>\n            </Col>\n        </Row>\n        <Row>\n            <Col xs={12} >\n            {img}\n            </Col>\n        </Row>\n        <Row>\n            <Col xs={12} >\n            <p>{this.state.desc}</p>\n            </Col>\n        </Row>\n        </Col>\n        </Row>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default News;"]},"metadata":{},"sourceType":"module"}