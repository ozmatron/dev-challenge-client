{"ast":null,"code":"var _jsxFileName = \"/Users/ozmatron/therapy_box/client/src/components/image-upload.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ImageUploader from 'react-images-upload';\nimport styles from './styles/image-upload.module.css';\nimport { Grid, Row, Col } from 'react-flexbox-grid';\n\nclass ImageUp extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      switch (e.target.name) {\n        case 'selectedFile':\n          this.setState({\n            selectedFile: e.target.files[0]\n          });\n          break;\n\n        default:\n          this.setState({\n            [e.target.name]: e.target.value\n          });\n      }\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const selectedFile = this.state.selectedFile;\n      let userIdStr = this.props.userId.toString();\n      let formData = new FormData();\n      formData.append('userId', userIdStr);\n      formData.append('selectedFile', selectedFile);\n      axios.post('http://localhost:8080/api/upload', formData).then(result => {});\n    };\n\n    this.state = {\n      userId: '',\n      selectedFile: ''\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.userId) {\n      let str = this.props.userId.toString();\n      this.setState({\n        userId: this.props.userId\n      });\n      console.log(\"Done\");\n    }\n  }\n\n  render() {\n    const {\n      userId,\n      selectedFile\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"selectedFile\",\n      id: \"file-upload\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"file-upload\",\n      className: \"custom-file-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-cloud-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }), \" Upload photo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }))))));\n  }\n\n}\n\nexport default ImageUp;","map":{"version":3,"sources":["/Users/ozmatron/therapy_box/client/src/components/image-upload.js"],"names":["React","axios","ImageUploader","styles","Grid","Row","Col","ImageUp","Component","constructor","onChange","e","target","name","setState","selectedFile","files","value","onSubmit","preventDefault","state","userIdStr","props","userId","toString","formData","FormData","append","post","then","result","componentDidMount","str","console","log","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ImageUploader from 'react-images-upload';\nimport styles from './styles/image-upload.module.css'; \nimport { Grid, Row, Col } from 'react-flexbox-grid';\n\nclass ImageUp extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n          userId: '',\n          selectedFile: '',\n        };\n      }\n\n      componentDidMount() {\n        if (this.props.userId) {\n            let str = this.props.userId.toString()\n            this.setState({ userId: this.props.userId });\n            console.log(\"Done\")\n        }\n      }\n\n      onChange = (e) => {\n        switch (e.target.name) {\n          case 'selectedFile':\n            this.setState({ selectedFile: e.target.files[0] });\n            break;\n          default:\n            this.setState({ [e.target.name]: e.target.value });\n        }\n      }\n\n      onSubmit = (e) => {\n        e.preventDefault();\n        const selectedFile = this.state.selectedFile;\n        let userIdStr = this.props.userId.toString()\n        let formData = new FormData();\n\n        formData.append('userId', userIdStr);\n        formData.append('selectedFile', selectedFile);\n\n        axios.post('http://localhost:8080/api/upload', formData)\n          .then((result) => {\n          });\n      }\n\n      render() {\n        const { userId, selectedFile } = this.state;\n\n        return (\n        <Row>\n            <Col xs={12}>\n                <Row>\n                <form onSubmit={this.onSubmit}>\n                    {/* <input\n                    type=\"text\"\n                    name=\"userId\"\n                    value={userId}\n                    onChange={this.onChange}\n                    /> */}\n                    <Col xs={12}>\n                    <input\n                        type=\"file\"\n                        name=\"selectedFile\"\n                        id=\"file-upload\"\n                        onChange={this.onChange}\n                    />\n                    </Col>\n                    <Col xs={12}>\n                    <label for=\"file-upload\" className=\"custom-file-upload\">\n                        <i class=\"fa fa-cloud-upload\"></i> Upload photo\n                    </label>\n                    <input\n                    type='submit'\n                    />\n                    </Col>\n                </form>\n                </Row>\n            </Col>\n          </Row>\n        );\n      }\n    }\nexport default ImageUp;"]},"metadata":{},"sourceType":"module"}