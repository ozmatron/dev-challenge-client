{"ast":null,"code":"var _jsxFileName = \"/Users/ozmatron/dev-challenge-client/src/pages/image-page.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ImageUploader from 'react-images-upload';\nimport styles from './styles/image-page.module.css';\nimport { Grid, Row, Col } from 'react-flexbox-grid';\nimport ImageUp from './../components/image-upload.js';\n\nclass ImageUpload extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userId: null,\n      getImages: false,\n      images: []\n    };\n  }\n\n  componentDidMount() {\n    if (!this.state.userId) {\n      this.getUserId();\n    }\n  }\n\n  getUserId() {\n    axios.get(`http://localhost:8080/api/user_data`).then(response => {\n      this.setState({\n        userId: response.data.id\n      });\n    });\n  }\n\n  getImages() {\n    let imgFiles = [];\n    axios.get(`http://localhost:8080/api/images/` + this.state.userId).then(response => {\n      response.data.map(img => imgFiles.push(require('../../../therapy-node/assets/uploads/' + img.filename)));\n      this.setState({\n        getImages: true\n      });\n      this.setState({\n        images: imgFiles\n      });\n    });\n  }\n\n  render() {\n    if (this.state.userId && !this.state.getImages) {\n      this.getImages();\n    }\n\n    let imgGallery;\n\n    if (this.state.images !== {}) {\n      imgGallery = this.state.images.map(img => /*#__PURE__*/React.createElement(Col, {\n        xs: 4,\n        className: styles.gallery,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: img,\n        className: styles.photo,\n        alt: \"image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }\n      })));\n    }\n\n    return /*#__PURE__*/React.createElement(Row, {\n      className: styles.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: styles.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, \"Photos\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      className: styles.uploader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ImageUp, {\n      userId: this.state.userId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, imgGallery)));\n  }\n\n}\n\nexport default ImageUpload;","map":{"version":3,"sources":["/Users/ozmatron/dev-challenge-client/src/pages/image-page.js"],"names":["React","axios","ImageUploader","styles","Grid","Row","Col","ImageUp","ImageUpload","Component","constructor","state","userId","getImages","images","componentDidMount","getUserId","get","then","response","setState","data","id","imgFiles","map","img","push","require","filename","render","imgGallery","gallery","photo","wrapper","title","uploader"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ImageUploader from 'react-images-upload';\nimport styles from './styles/image-page.module.css'; \nimport { Grid, Row, Col } from 'react-flexbox-grid';\nimport ImageUp from './../components/image-upload.js';\n\nclass ImageUpload extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n          userId: null,\n          getImages: false,\n          images: []\n        };\n      }\n\n      componentDidMount() {\n        if (!this.state.userId) {\n          this.getUserId();\n        }\n      }\n\n      getUserId() {\n        axios.get(`http://localhost:8080/api/user_data`)\n        .then((response) => {\n          this.setState({userId: response.data.id})\n        })\n      }\n\n      getImages() {\n        let imgFiles = []\n        axios.get(`http://localhost:8080/api/images/` + this.state.userId)\n        .then((response) => {\n          response.data.map((img) =>\n          imgFiles.push(require('../../../therapy-node/assets/uploads/' + img.filename))\n          )\n            this.setState({getImages: true})\n            this.setState({images: imgFiles})\n          })\n      }\n\n      render() {\n        if (this.state.userId && !this.state.getImages) {\n            this.getImages()\n        }\n        let imgGallery\n        if (this.state.images !== {}) {\n          imgGallery = this.state.images.map((img) => \n              <Col xs={4} className={styles.gallery}>\n              <img src={img} className={styles.photo} alt=\"image\" />\n              </Col>\n            );\n        }\n\n        return (\n            <Row className={styles.wrapper}>\n                <Col xs={12} >\n            <Row className={styles.title}>\n                <Col xs={12} >\n                    <h1>Photos</h1>\n                </Col>\n            </Row>\n            <Row>\n                <Col xs={6} className={styles.uploader}>\n                    <ImageUp userId={this.state.userId}/>\n                </Col>\n            </Row>\n            <Row >\n                {imgGallery}\n            </Row>\n            </Col>\n            </Row>\n        );\n      }\n    }\n\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}