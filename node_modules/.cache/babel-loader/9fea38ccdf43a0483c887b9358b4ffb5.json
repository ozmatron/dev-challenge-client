{"ast":null,"code":"var _jsxFileName = \"/Users/ozmatron/therapy-client/src/components/image-preview.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nclass ImagePreview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.typingTimer = null;\n    this.state = {\n      userId: null,\n      getImages: false,\n      image: []\n    };\n  }\n\n  componentDidMount() {\n    if (!this.state.userId) {\n      this.getUserId();\n    }\n  }\n\n  getUserId() {\n    axios.get(`http://localhost:8080/api/user_data`).then(response => {\n      this.setState({\n        userId: response.data.id\n      });\n    });\n  }\n\n  getImages() {\n    let imgFile = [];\n    axios.get(`http://localhost:8080/api/images/` + this.state.userId).then(response => {\n      if (response.data.length > 0) {\n        imgFile.push(require('../../../therapy-node/assets/uploads/' + response.data[0].filename));\n        this.setState({\n          getImages: true\n        });\n        this.setState({\n          images: imgFile\n        });\n      }\n    });\n  }\n\n  render() {\n    if (!this.state.getImages && this.state.userId) {\n      this.getImages();\n    }\n\n    console.log('img', this.state.images);\n    let image;\n\n    if (this.state.images.length > 0) {\n      image = /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.images[0],\n        alt: \"image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, image);\n  }\n\n}\n\nexport default ImagePreview;","map":{"version":3,"sources":["/Users/ozmatron/therapy-client/src/components/image-preview.js"],"names":["React","axios","ImagePreview","Component","constructor","props","typingTimer","state","userId","getImages","image","componentDidMount","getUserId","get","then","response","setState","data","id","imgFile","length","push","require","filename","images","render","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAN,SAA2BF,KAAK,CAACG,SAAjC,CAA2C;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SASjBC,WATiB,GASH,IATG;AAEf,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,IADC;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTC,MAAAA,KAAK,EAAE;AAHE,KAAb;AAKD;;AAIDC,EAAAA,iBAAiB,GAAG;AAClB,QAAI,CAAC,KAAKJ,KAAL,CAAWC,MAAhB,EAAwB;AACtB,WAAKI,SAAL;AACD;AACF;;AAEDA,EAAAA,SAAS,GAAG;AACVX,IAAAA,KAAK,CAACY,GAAN,CAAW,qCAAX,EACCC,IADD,CACOC,QAAD,IAAc;AAClB,WAAKC,QAAL,CAAc;AAACR,QAAAA,MAAM,EAAEO,QAAQ,CAACE,IAAT,CAAcC;AAAvB,OAAd;AACD,KAHD;AAID;;AAEDT,EAAAA,SAAS,GAAG;AACV,QAAIU,OAAO,GAAG,EAAd;AACAlB,IAAAA,KAAK,CAACY,GAAN,CAAW,mCAAD,GAAsC,KAAKN,KAAL,CAAWC,MAA3D,EACCM,IADD,CACOC,QAAD,IAAc;AAChB,UAAIA,QAAQ,CAACE,IAAT,CAAcG,MAAd,GAAuB,CAA3B,EAA8B;AAC1BD,QAAAA,OAAO,CAACE,IAAR,CAAaC,OAAO,CAAC,0CAA0CP,QAAQ,CAACE,IAAT,CAAc,CAAd,EAAiBM,QAA5D,CAApB;AACA,aAAKP,QAAL,CAAc;AAACP,UAAAA,SAAS,EAAE;AAAZ,SAAd;AACA,aAAKO,QAAL,CAAc;AAACQ,UAAAA,MAAM,EAAEL;AAAT,SAAd;AACH;AACF,KAPH;AAQD;;AACLM,EAAAA,MAAM,GAAG;AACP,QAAI,CAAC,KAAKlB,KAAL,CAAWE,SAAZ,IAAyB,KAAKF,KAAL,CAAWC,MAAxC,EAAgD;AAC5C,WAAKC,SAAL;AACD;;AACDiB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkB,KAAKpB,KAAL,CAAWiB,MAA7B;AACA,QAAId,KAAJ;;AACA,QAAI,KAAKH,KAAL,CAAWiB,MAAX,CAAkBJ,MAAlB,GAA2B,CAA/B,EAAkC;AAChCV,MAAAA,KAAK,gBAAG;AAAK,QAAA,GAAG,EAAE,KAAKH,KAAL,CAAWiB,MAAX,CAAkB,CAAlB,CAAV;AAAgC,QAAA,GAAG,EAAC,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACD;;AACH,wBACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKd,KADL,CADJ;AAKD;;AAlDwC;;AAqD3C,eAAeR,YAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass ImagePreview extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            userId: null,\n            getImages: false,\n            image: [],\n        };\n      }\n    \n      typingTimer = null;\n    \n      componentDidMount() {\n        if (!this.state.userId) {\n          this.getUserId();\n        }\n      }\n    \n      getUserId() {\n        axios.get(`http://localhost:8080/api/user_data`)\n        .then((response) => {\n          this.setState({userId: response.data.id})\n        })\n      }\n    \n      getImages() {\n        let imgFile = []\n        axios.get(`http://localhost:8080/api/images/` + this.state.userId)\n        .then((response) => {\n            if (response.data.length > 0) {\n                imgFile.push(require('../../../therapy-node/assets/uploads/' + response.data[0].filename))\n                this.setState({getImages: true})\n                this.setState({images: imgFile})\n            }\n          })\n      }\n  render() {\n    if (!this.state.getImages && this.state.userId) {\n        this.getImages();\n      }\n      console.log('img',this.state.images)\n      let image\n      if (this.state.images.length > 0) {\n        image = <img src={this.state.images[0]} alt=\"image\" />\n      }\n    return (\n        <React.Fragment>\n            {image}\n        </React.Fragment>\n    );\n  }\n}\n\nexport default ImagePreview;"]},"metadata":{},"sourceType":"module"}