{"ast":null,"code":"var _jsxFileName = \"/Users/ozmatron/therapy-client/src/components/login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Grid, Row, Col } from 'react-flexbox-grid';\nimport styles from './styles/login.module.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.usernameHandler = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.passwordHandler = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.submitHandler = event => {\n      event.preventDefault();\n\n      if (this.state.username !== \"\" && this.state.password !== \"\" && this.state.username.includes(\"@\")) {\n        axios.post(`http://localhost:8080/api/login`, {\n          email: this.state.username,\n          password: this.state.password\n        }).then(res => {\n          this.props.history.push(res.data);\n        }).catch(function (error) {\n          if (error.response) {\n            if (error.response.status === 401 && this.state.unauthorizedUser) {\n              this.setState({\n                unauthorizedUser: true\n              });\n            } // Request made and server responded\n\n\n            console.log('1', error.response.data);\n            console.log('2', error.response.status);\n            console.log('3', error.response.headers);\n          } else if (error.request) {\n            // The request was made but no response was received\n            console.log('4', error.request);\n          } else {\n            // Something happened in setting up the request that triggered an Error\n            console.log('Error', error.message);\n          }\n        });\n      }\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      unauthorizedUser: false\n    };\n  }\n\n  render() {\n    let badLogin;\n\n    if (this.state.unauthorizedUser) {\n      console.log(\"Bad\");\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: styles.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      center: \"xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Dev challenge\"))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Email\",\n      type: \"text\",\n      onChange: this.usernameHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Password\",\n      type: \"password\",\n      onChange: this.passwordHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, \"New to the challenge? Sign up\")))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, badLogin))))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/ozmatron/therapy-client/src/components/login.js"],"names":["React","axios","Link","Grid","Row","Col","styles","Login","Component","constructor","props","usernameHandler","event","setState","username","target","value","passwordHandler","password","submitHandler","preventDefault","state","includes","post","email","then","res","history","push","data","catch","error","response","status","unauthorizedUser","console","log","headers","request","message","render","badLogin","wrapper"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Grid, Row, Col } from 'react-flexbox-grid';\nimport styles from './styles/login.module.css'; \n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n        username: '',\n        password: '',\n        unauthorizedUser: false\n    };\n  }\n\n  usernameHandler = (event) => {\n    this.setState({username: event.target.value});\n  }\n\n  passwordHandler = (event) => {\n    this.setState({password: event.target.value});\n  }\n\n  submitHandler = (event) => {\n    event.preventDefault();\n    if (this.state.username !== \"\" && this.state.password !== \"\" && this.state.username.includes(\"@\")) {\n        axios.post(`http://localhost:8080/api/login`, {\n            email: this.state.username,\n            password: this.state.password\n        })\n        .then(res => {\n            this.props.history.push(res.data)\n        })\n        .catch(function (error) {\n          if (error.response) {\n            if (error.response.status === 401 && this.state.unauthorizedUser) {\n              this.setState({unauthorizedUser: true})\n            }\n            // Request made and server responded\n            console.log('1',error.response.data);\n            console.log('2',error.response.status);\n            console.log('3',error.response.headers);\n          } else if (error.request) {\n            // The request was made but no response was received\n            console.log('4',error.request);\n          } else {\n            // Something happened in setting up the request that triggered an Error\n            console.log('Error', error.message);\n          }\n      \n        });\n    }\n  }\n\n  render() {\n    let badLogin\n    if (this.state.unauthorizedUser) {\n      console.log(\"Bad\")\n    }\n    return (\n      <React.Fragment>\n      <Row className={styles.wrapper}>\n        <Col xs={12}>\n          <Row center=\"xs\">\n            <Col xs={8}>\n              <Row> \n                <Col xs={12}>\n                <h1>Dev challenge</h1>\n                </Col>\n              </Row>\n            <form onSubmit={this.submitHandler}>\n            <Row> \n                <Col xs={6}>\n                  <input\n                  placeholder='Email'\n                  type='text'\n                  onChange={this.usernameHandler}\n                  />\n                </Col>\n                <Col xs={6}>\n                  <input\n                  placeholder='Password'\n                  type='password'\n                  onChange={this.passwordHandler}\n                  />\n                </Col>\n            </Row>\n            <Row> \n                <Col xs={12}>\n                  <input\n                    type='submit'\n                  />\n                </Col>\n            </Row>\n            </form>\n            <Row> \n                <Col xs={12}>\n                <div>\n                  <Link to=\"/signup\">New to the challenge? Sign up</Link>\n                </div>\n                </Col>\n            </Row>\n            <Row> \n                <Col xs={12}>\n                <div>\n                  {badLogin}\n                </div>\n                </Col>\n            </Row>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Login ;"]},"metadata":{},"sourceType":"module"}